/*! For license information please see main.bab61bdd.chunk.js.LICENSE.txt */
(this["webpackJsonpblockly-react-sample"]=this["webpackJsonpblockly-react-sample"]||[]).push([[0],{140:function(e,t,n){"use strict";n.r(t);var a=n(5),r=n.n(a),i=n(19),o=n.n(i),c=(n(69),n(50)),s=n.n(c),l=n(58),p=n(15),u=n(16),d=n(18),v=n(17),b=(n(71),n(64)),h=n(63),m=(n.p,n(9)),_=n(8),f=(n(72),n(2)),j=n.n(f),y=n(59),g=n.n(y),S=(n(74),n(4)),O=function(e){Object(d.a)(n,e);var t=Object(v.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).SERIALIZABLE=!0,e}return Object(u.a)(n,[{key:"showEditor_",value:function(){this.div_=f.DropDownDiv.getContentDiv(),o.a.render(this.render(),this.div_);var e=this.sourceBlock_.style.colourTertiary;e=e.colourBorder||e.colourLight,f.DropDownDiv.setColour(this.sourceBlock_.getColour(),e),f.DropDownDiv.showPositionedByField(this,this.dropdownDispose_.bind(this))}},{key:"dropdownDispose_",value:function(){o.a.unmountComponentAtNode(this.div_)}},{key:"render",value:function(){return Object(S.jsx)(k,{})}}],[{key:"fromJson",value:function(e){return new n(e.text)}}]),n}(f.Field),k=function(e){Object(d.a)(n,e);var t=Object(v.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(S.jsx)("div",{style:{color:"#fff"},children:"Hello from React!"})}}]),n}(r.a.Component);f.fieldRegistry.register("field_react_component",O);var E=O,x=n(29),T=n(60),D=n.n(T),J=(n(77),function(e){Object(d.a)(n,e);var t=Object(v.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).onDateSelected_=function(t){e.setValue(new Date(t)),f.DropDownDiv.hideIfOwner(Object(x.a)(e),!0)},e}return Object(u.a)(n,[{key:"getText_",value:function(){return this.value_.toLocaleDateString()}},{key:"fromXml",value:function(e){this.setValue(new Date(e.textContent))}},{key:"render",value:function(){return Object(S.jsx)(D.a,{selected:this.value_,onChange:this.onDateSelected_,inline:!0})}}],[{key:"fromJson",value:function(e){return new n(new Date(e.date))}}]),n}(E));f.fieldRegistry.register("field_react_date",J);var R={type:"test_react_field",message0:"custom field %1",args0:[{type:"field_react_component",name:"FIELD",text:"Click me"}],previousStatement:null,nextStatement:null};f.Blocks.test_react_field={init:function(){this.jsonInit(R),this.setStyle("loop_blocks")}};var A={type:"test_react_date_field",message0:"date field %1",args0:[{type:"field_react_date",name:"DATE",date:"01/01/2020"}],previousStatement:null,nextStatement:null};f.Blocks.test_react_date_field={init:function(){this.jsonInit(A),this.setStyle("loop_blocks")}};var I={type:"instantiate",message0:"Instantiate",inputsInline:!0,previousStatement:null,nextStatement:null,colour:0,tooltip:"",helpUrl:""};f.Blocks.instantiate={init:function(){this.jsonInit(I)}};var w={type:"execute",message0:"Execute",inputsInline:!0,previousStatement:null,nextStatement:null,colour:0,tooltip:"",helpUrl:""};f.Blocks.execute={init:function(){this.jsonInit(w)}};var C={type:"query",message0:"Query",inputsInline:!0,previousStatement:null,colour:0,tooltip:"",helpUrl:""};f.Blocks.query={init:function(){this.jsonInit(C)}},j.a.setLocale(g.a);var N=function(e){Object(d.a)(n,e);var t=Object(v.a)(n);function n(e){var a;return Object(p.a)(this,n),(a=t.call(this,e)).blocklyDiv=r.a.createRef(),a.toolbox=r.a.createRef(),a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.initialXml,n=(e.children,Object(m.a)(e,["initialXml","children"]));this.primaryWorkspace=j.a.inject(this.blocklyDiv.current,Object(_.a)({toolbox:{kind:"categoryToolbox",contents:[{kind:"category",name:"Control",contents:[{kind:"block",type:"controls_if"}]},{kind:"category",name:"Logic",contents:[{kind:"block",type:"logic_compare"},{kind:"block",type:"logic_operation"},{kind:"block",type:"logic_boolean"}]},{kind:"category",name:"Loops",contents:[{kind:"block",type:"controls_repeat_ext"},{kind:"block",type:"controls_whileUntil"}]},{kind:"category",name:"Math",contents:[{kind:"block",type:"math_number"},{kind:"block",type:"math_arithmetic"}]},{kind:"category",name:"Text",contents:[{kind:"block",type:"text_print"}]},{kind:"category",name:"Variables",contents:[{kind:"block",type:"variables_set"},{kind:"block",type:"variables_get"}]},{kind:"category",name:"Terra",contents:[{kind:"block",type:"instantiate"},{kind:"block",type:"execute"},{kind:"block",type:"query"}]}]}},n)),this.primaryWorkspace.setTheme(j.a.Themes.Dark),this.primaryWorkspace.registerButtonCallback("CREATE_VARIABLE",(function(){console.log("create variable")})),t&&j.a.Xml.domToWorkspace(j.a.Xml.textToDom(t),this.primaryWorkspace)}},{key:"setXml",value:function(e){j.a.Xml.domToWorkspace(j.a.Xml.textToDom(e),this.primaryWorkspace)}},{key:"render",value:function(){var e=this.props.children;return Object(S.jsxs)(r.a.Fragment,{children:[Object(S.jsx)("div",{ref:this.blocklyDiv,id:"blocklyDiv"}),Object(S.jsx)("xml",{xmlns:"https://developers.google.com/blockly/xml",is:"blockly",style:{display:"none"},ref:this.toolbox,children:e})]})}},{key:"workspace",get:function(){return this.primaryWorkspace}}]),n}(r.a.Component),M=function(e){var t=e.children,n=Object(m.a)(e,["children"]);return n.is="blockly",r.a.createElement("block",n,t)},B=function(e){var t=e.children,n=Object(m.a)(e,["children"]);return n.is="blockly",r.a.createElement("value",n,t)},L=function(e){var t=e.children,n=Object(m.a)(e,["children"]);return n.is="blockly",r.a.createElement("field",n,t)},V=function(e){var t=e.children,n=Object(m.a)(e,["children"]);return n.is="blockly",r.a.createElement("shadow",n,t)},F=n(48),W=n.n(F);f.JavaScript.test_react_field=function(e){return"console.log('custom block');\n"},f.JavaScript.test_react_date_field=function(e){return"console.log("+e.getField("DATE").getText()+");\n"},f.JavaScript.text_print=function(e){return'println!("{}", '+(f.JavaScript.valueToCode(e,"TEXT",f.JavaScript.ORDER_NONE)||"")+");\n"},f.JavaScript.controls_if=function(e){var t,n,a=0,r="";f.JavaScript.STATEMENT_PREFIX&&(r+=f.JavaScript.injectId(f.JavaScript.STATEMENT_PREFIX,e));do{n=f.JavaScript.valueToCode(e,"IF"+a,f.JavaScript.ORDER_NONE)||"false",t=f.JavaScript.statementToCode(e,"DO"+a),f.JavaScript.STATEMENT_SUFFIX&&(t=f.JavaScript.prefixLines(f.JavaScript.injectId(f.JavaScript.STATEMENT_SUFFIX,e),f.JavaScript.INDENT)+t),r+=(a>0?" else ":"")+"if "+n+" {\n"+t+"}",++a}while(e.getInput("IF"+a));return(e.getInput("ELSE")||f.JavaScript.STATEMENT_SUFFIX)&&(t=f.JavaScript.statementToCode(e,"ELSE"),f.JavaScript.STATEMENT_SUFFIX&&(t=f.JavaScript.prefixLines(f.JavaScript.injectId(f.JavaScript.STATEMENT_SUFFIX,e),f.JavaScript.INDENT)+t),r+=" else {\n"+t+"}"),r+"\n"},f.JavaScript.controls_repeat_ext=function(e){if(e.getField("TIMES"))var t=String(Number(e.getFieldValue("TIMES")));else t=f.JavaScript.valueToCode(e,"TIMES",f.JavaScript.ORDER_ASSIGNMENT)||"1";var n=f.JavaScript.statementToCode(e,"DO");n=f.JavaScript.addLoopTrap(n,e);var a="",r=f.JavaScript.variableDB_.getDistinctName("count",f.VARIABLE_CATEGORY_NAME),i=t;return t.match(/^\w+$/)||f.isNumber(t)||(a+="let "+(i=f.JavaScript.variableDB_.getDistinctName("repeat_end",f.VARIABLE_CATEGORY_NAME))+" = "+t+";\n"),a+="for "+r+" in 1.."+i+" {\n"+n+"}\n"},f.JavaScript.controls_whileUntil=function(e){var t="UNTIL"==e.getFieldValue("MODE"),n=f.JavaScript.valueToCode(e,"BOOL",t?f.JavaScript.ORDER_LOGICAL_NOT:f.JavaScript.ORDER_NONE)||"loop",a=f.JavaScript.statementToCode(e,"DO");return a=f.JavaScript.addLoopTrap(a,e),t&&(n="!"+n),(n.match("loop")?"loop {"+a+"}":"while "+n+" {"+a+"}")+"\n"},f.JavaScript.variables_get=function(e){return[f.JavaScript.variableDB_.getName(e.getFieldValue("VAR"),f.VARIABLE_CATEGORY_NAME),f.JavaScript.ORDER_ATOMIC]},f.JavaScript.variables_set=function(e){var t=f.JavaScript.valueToCode(e,"VALUE",f.JavaScript.ORDER_ASSIGNMENT)||"0";return f.JavaScript.variableDB_.getName(e.getFieldValue("VAR"),f.VARIABLE_CATEGORY_NAME)+" = "+t+";\n"},f.JavaScript.init=function(e){f.JavaScript.definitions_=Object.create(null),f.JavaScript.functionNames_=Object.create(null),f.JavaScript.variableDB_?f.JavaScript.variableDB_.reset():f.JavaScript.variableDB_=new f.Names(f.JavaScript.RESERVED_WORDS_),f.JavaScript.variableDB_.setVariableMap(e.getVariableMap());for(var t=[],n=f.Variables.allDeveloperVariables(e),a=0;a<n.length;a++)t.push(f.JavaScript.variableDB_.getName(n[a],f.Names.DEVELOPER_VARIABLE_TYPE));var r=f.Variables.allUsedVarModels(e);for(a=0;a<r.length;a++)t.push(f.JavaScript.variableDB_.getName(r[a].getId(),f.VARIABLE_CATEGORY_NAME));t.length&&(f.JavaScript.definitions_.variables="let "+t.join(", ")+";")},f.JavaScript.instantiate=function(e){return'\n    pub fn instantiate (\n        deps: DepsMut,\n        _env: Env,\n        info: MessageInfo,\n        msg: InstantiateMsg,\n    ) -> Result <Response, ContractError> {\n        let state = State {\n            count: msg.count,\n            owner: info.sender.clone(),\n        };\n        set_contract_version(deps.storage, CONTRACT_NAME, CONTRACT_VERSION)?;\n        STATE.save(deps.storage, &state)?;\n    \n        Ok(Response::new()\n            .add_attribute("method", "instantiate")\n            .add_attribute("owner", info.sender)\n            .add_attribute("count", msg.count.to_string())\n    }\n\n    '},f.JavaScript.execute=function(e){return"\n    pub fn execute (\n        deps: DepsMut,\n        _env: Env,\n        info: MessageInfo,\n        msg: ExecuteMsg,\n    ) -> Result <Response, ContractError> {\n        match msg {\n            ExecuteMsg::Increment {} => try_increment(deps),\n            ExecuteMsg::Reset { count } => try_reset(deps, count),\n        }\n    }\n\n    "},f.JavaScript.query=function(e){return"\n    pub fn query(deps: Deps, _env: Env, msg: QueryMsg) -> StdResult<Binary> {\n        match msg {\n            QueryMsg::GetCount {} => to_binary(&query_count(deps)?),\n        }\n    }\n    \n    fn query_count(deps: Deps) -> StdResult<CountResponse> {\n        let state = STATE.load(deps.storage)?;\n        Ok(CountResponse { count: state.count })\n    }\n\n    "};var X=function(e){Object(d.a)(n,e);var t=Object(v.a)(n);function n(e){var a;return Object(p.a)(this,n),(a=t.call(this,e)).generateCode=function(e){var t=W.a.workspaceToCode(a.simpleWorkspace.current.workspace);a.setState({renderedCode:t}),console.log(t)},a.deploy=Object(l.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({loading:!0}),t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:"Wallet"})},fetch("https://reqres.in/api/posts",t).then((function(e){return e.json()})).then((function(e){console.log(e)}));case 3:case"end":return e.stop()}}),e)}))),a.onRefChange=function(e){console.log("onRefChange"),console.log(e)},a.simpleWorkspace=r.a.createRef(),a.state={code:"",renderedCode:"",loading:!1,success:!1},a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.simpleWorkspace.current.workspace.addChangeListener(this.generateCode)}},{key:"render",value:function(){return Object(S.jsxs)("div",{style:{display:"flex"},children:[Object(S.jsx)("div",{className:"flex-child",style:{height:"100vh",width:"70vw"},children:Object(S.jsxs)(N,{ref:this.simpleWorkspace,readOnly:!1,trashcan:!0,media:"media/",move:{scrollbars:!0,drag:!0,wheel:!0},initialXml:'\n          <xml xmlns="http://www.w3.org/1999/xhtml">\n          </xml>\n                ',children:[Object(S.jsx)(M,{type:"test_react_field"}),Object(S.jsx)(M,{type:"test_react_date_field"}),Object(S.jsx)(M,{type:"controls_ifelse"}),Object(S.jsx)(M,{type:"logic_compare"}),Object(S.jsx)(M,{type:"logic_operation"}),Object(S.jsx)(M,{type:"controls_repeat_ext",children:Object(S.jsx)(B,{name:"TIMES",children:Object(S.jsx)(V,{type:"math_number",children:Object(S.jsx)(L,{name:"NUM",children:"10"})})})}),Object(S.jsx)(M,{type:"logic_operation"}),Object(S.jsx)(M,{type:"logic_negate"}),Object(S.jsx)(M,{type:"logic_boolean"}),Object(S.jsx)(M,{type:"logic_null",disabled:"true"}),Object(S.jsx)(M,{type:"logic_ternary"}),Object(S.jsx)(M,{type:"text_charAt",children:Object(S.jsx)(B,{name:"VALUE",children:Object(S.jsx)(M,{type:"variables_get",children:Object(S.jsx)(L,{name:"VAR",children:"text"})})})})]})}),Object(S.jsxs)("div",{className:"flex-child scroll",style:{maxWidth:"30vw",color:"white",backgroundColor:"black"},children:[this.state.success?Object(S.jsx)("h1",{children:"Deployed to Terra!"}):this.state.loading?Object(S.jsx)(h.a,{animation:"border",variant:"success"}):this.state.renderedCode.split("\n").map((function(e,t){return Object(S.jsxs)("p",{style:{color:"white"},children:[e,Object(S.jsx)("br",{})]},t)}),this),this.state.success?null:Object(S.jsxs)("div",{class:"bottom-right",children:[Object(S.jsx)("input",{placeholder:"Wallet Name:"}),Object(S.jsx)("br",{}),Object(S.jsx)("input",{placeholder:"Wallet Address:"}),Object(S.jsx)("br",{}),Object(S.jsx)("input",{placeholder:"Wallet Password:"}),Object(S.jsx)("br",{}),Object(S.jsx)("br",{}),Object(S.jsx)(b.a,{style:{marginLeft:"60%",marginRight:"auto"},variant:"primary",onClick:this.deploy,children:"Deploy!"})]})]})]})}}]),n}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(139);o.a.render(Object(S.jsx)(X,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},69:function(e,t,n){},71:function(e,t,n){},72:function(e,t,n){}},[[140,1,2]]]);
//# sourceMappingURL=main.bab61bdd.chunk.js.map